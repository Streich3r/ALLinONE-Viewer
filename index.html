<input type="file" id="fileInput">
<div id="output"></div>

<script src="pdf.js"></script>
<script>
  pdfjsLib.GlobalWorkerOptions.workerSrc = 'pdf.worker.min.js';
  const fileInput = document.getElementById("fileInput");
  const output = document.getElementById("output");

  fileInput.addEventListener("change", async e => {
    const file = e.target.files[0];
    if(!file) return;

    const reader = new FileReader();
    reader.onload = async () => {
      try {
        const pdf = await pdfjsLib.getDocument({data: new Uint8Array(reader.result)}).promise;
        output.innerHTML = `Seiten: ${pdf.numPages}`;
      } catch(err) {
        output.innerHTML = `<span style="color:red">${err.message}</span>`;
        console.error(err);
      }
    };
    reader.readAsArrayBuffer(file);
  });
</script>
